(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{26:function(e,t,n){e.exports=n(38)},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(14),o=n.n(c),s=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Todo")))},u=n(11),i=function(e){var t=e.message,n=void 0===t?"Ooops something went wrong...":t,a=e.color,c=void 0===a?"alert alert-primary":a;return r.a.createElement("div",{className:c,role:"alert"},n)},l=n(10),d=function(e){return{type:"ADD_FETCHED_TODO",payload:e}},p=function(e){return{type:"TODO_FETCHING_ERROR",payload:e}},m=function(e){return{type:"ADD_NEW_TODO",payload:e}},O=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.todoRequestState})).todos,n=Object(a.useState)(""),c=Object(u.a)(n,2),o=c[0],s=c[1],d=Object(a.useState)(!1),p=Object(u.a)(d,2),O=p[0],f=p[1];return r.a.createElement("div",{className:"input-group pt-3 pb-3 m-auto d-flex flex-column"},O&&r.a.createElement(i,{message:"Typed data is empty or invalid",color:"alert alert-danger"}),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",id:"form",placeholder:"Type your todo",value:o,onChange:function(e){f(!1);var t=e.target.value;0!==t.trim().length?s(t):s("")},onKeyPress:function(t){if("Enter"===t.key){if(0===o.length)return void f(!0);e(m({content:o,finished:!1})),s("")}},disabled:t.error.status||!t.loaded}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"input-group-text",onClick:function(t){0!==o.length?(e(m({content:o,finished:!1})),s("")):f(!0)},disabled:t.error.status||!t.loaded},"Add"))))},f=n(7),b=n(17),E=function(e){var t=e.todo,n=e.onDelete,a=e.onCheck,c=["p-0 m-0 pl-3"];return t.finished&&c.push("line-through"),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center pr-2"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("input",{className:"form-check-input mt-0 position-relative ml-2",type:"checkbox",checked:t.finished,onChange:function(){return a(t)}}),r.a.createElement("p",{className:c.join(" ")},t.content," ")),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return n(t)}}," Delete"))},v=function(){return r.a.createElement("div",{className:"d-flex justify-content-center mb-2"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}))},h=function(e){var t=e.message,n=e.onClose;return r.a.createElement("div",{className:"d-flex justify-content-center mb-3"},r.a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",style:{opacity:1}},r.a.createElement("div",{className:"toast-header"},r.a.createElement("strong",{className:"mr-auto"},"Notification"),r.a.createElement("button",{type:"button",onClick:function(){return n()},className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"toast-body"},t)))},j=function(){var e,t,n=Object(l.b)(),c=Object(a.useState)([]),o=Object(u.a)(c,2),s=o[0],d=o[1],p=Object(a.useState)({}),m=Object(u.a)(p,2),O=m[0],j=m[1];Object(a.useEffect)((function(){n({type:"FETCH_TODO"})}),[]);var x=Object(l.c)((function(e){return e.todoState})),y=Object(l.c)((function(e){return e.todoRequestState}));function g(e){var t;n({type:"DELETE_TODO",payload:e.id}),t=" Todo with: content : ".concat(e.content,";id:").concat(e.id,";deleted successfully."),N({show:!0,message:t}),setTimeout((function(){N({show:!1,message:""})}),5e3)}function T(e){e.finished=!e.finished,n(function(e){return{type:"CHECK_TODO",payload:e}}(e))}Object(a.useEffect)((function(){d(Object(b.a)(x))}),[x]),Object(a.useEffect)((function(){j(Object(f.a)({},y))}),[y]);var D=Object(a.useState)({show:!1,message:""}),C=Object(u.a)(D,2),w=C[0],N=C[1];return r.a.createElement(r.a.Fragment,null,!0===(null===(e=O.todos)||void 0===e?void 0:e.error.status)&&r.a.createElement(i,{message:"Server is not available at the moment, try again later!",color:"alert alert-danger"}),w.show&&r.a.createElement(h,{message:w.message,onClose:function(){N({show:!1,message:""})}}),r.a.createElement("ul",{className:"list-group"},s.map((function(e){return r.a.createElement(E,{key:e.id,todo:e,onDelete:g,onCheck:T})}))),(null===(t=O.todos)||void 0===t?void 0:t.loading)&&r.a.createElement(v,null),y.todos.loading||0!==x.length||y.todos.error.status?null:r.a.createElement(i,{color:"alert alert-primary",message:"There are no todos in a list. Just add some new in input below."}))},x=(n(36),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"container"},r.a.createElement(O,null),r.a.createElement(j,null)))}),y=n(9),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FETCHED_TODO":return Object(b.a)(t.payload);case"CLEAR_TODO":return[];default:return e}},T={todos:{loading:!1,loaded:!1,error:{status:!1,message:""}}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO_FETCHING":return Object(f.a)(Object(f.a)({},e),{},{todos:Object(f.a)(Object(f.a)({},e.todos),{},{loading:!0,loaded:!1,error:{status:!1,message:""}})});case"TODO_FETCHING_SUCCEED":return Object(f.a)(Object(f.a)({},e),{},{todos:Object(f.a)(Object(f.a)({},e.todos),{},{loading:!1,loaded:!0,error:{status:!1,message:""}})});case"TODO_FETCHING_ERROR":return Object(f.a)(Object(f.a)({},e),{},{todos:Object(f.a)(Object(f.a)({},e.todos),{},{loading:!1,loaded:!1,error:{status:!0,message:t.payload}})});default:return e}},C=Object(y.c)({todoState:g,todoRequestState:D}),w=n(25),N=n(24),_=n.n(N),k=n(5),S=n.n(k),F=n(3),H=n(13),R=function(){var e=Object(H.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/todo").then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(H.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(H.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/todo/".concat(t),{method:"DELETE"}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(H.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/todo/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return new Promise((function(t){return setTimeout(t,e)}))},U=S.a.mark(P),J=S.a.mark(q);function P(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("FETCH_TODO",q);case 2:return e.next=4,Object(F.c)({type:"TODO_FETCHING"});case 4:case"end":return e.stop()}}),U)}function q(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(3e3);case 3:return t.next=5,Object(F.b)(R);case 5:return e=t.sent,t.next=8,Object(F.c)(d(e.reverse()));case 8:return t.next=10,Object(F.c)({type:"TODO_FETCHING_SUCCEED"});case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(F.c)(p(t.t0));case 16:return t.next=18,Object(F.c)({type:"CLEAR_TODO"});case 18:case"end":return t.stop()}}),J,null,[[0,12]])}var K=S.a.mark(B),W=S.a.mark(z);function B(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("ADD_NEW_TODO",z);case 2:return e.next=4,Object(F.c)({type:"TODO_FETCHING"});case 4:case"end":return e.stop()}}),K)}function z(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(F.b)(I,e.payload);case 3:return n.next=5,Object(F.b)(R);case 5:return t=n.sent,n.next=8,Object(F.c)(d(t.reverse()));case 8:return n.next=10,Object(F.c)({type:"TODO_FETCHING_SUCCEED"});case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(F.c)(p(n.t0.message));case 16:return n.next=18,Object(F.c)({type:"CLEAR_TODO"});case 18:case"end":return n.stop()}}),W,null,[[0,12]])}var M=S.a.mark(V),Q=S.a.mark(X);function V(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("DELETE_TODO",X);case 2:return e.next=4,Object(F.c)({type:"TODO_FETCHING"});case 4:case"end":return e.stop()}}),M)}function X(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(F.b)(G,e.payload);case 3:return n.next=5,Object(F.b)(R);case 5:return t=n.sent,n.next=8,Object(F.c)(d(t.reverse()));case 8:return n.next=10,Object(F.c)({type:"TODO_FETCHING_SUCCEED"});case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(F.c)(p(n.t0.message));case 16:return n.next=18,Object(F.c)({type:"CLEAR_TODO"});case 18:case"end":return n.stop()}}),Q,null,[[0,12]])}var Y=S.a.mark($),Z=S.a.mark(ee);function $(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)("CHECK_TODO",ee);case 2:return e.next=4,Object(F.c)({type:"TODO_FETCHING"});case 4:case"end":return e.stop()}}),Y)}function ee(e){var t;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(F.b)(A,e.payload);case 3:return n.next=5,Object(F.b)(R);case 5:return t=n.sent,n.next=8,Object(F.c)(d(t.reverse()));case 8:return n.next=10,Object(F.c)({type:"TODO_FETCHING_SUCCEED"});case 10:n.next=18;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(F.c)(p(n.t0.message));case 16:return n.next=18,Object(F.c)({type:"CLEAR_TODO"});case 18:case"end":return n.stop()}}),Z,null,[[0,12]])}var te=S.a.mark(ne);function ne(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([P(),B(),V(),$()]);case 2:case"end":return e.stop()}}),te)}var ae=Object(w.a)(),re=Object(y.e)(C,Object(y.a)(ae,_.a));ae.run(ne),o.a.render(r.a.createElement(l.a,{store:re},r.a.createElement(x,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.24680b3d.chunk.js.map